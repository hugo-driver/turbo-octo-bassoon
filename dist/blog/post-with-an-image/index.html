<!doctype html>
<html lang="en"><!-- The order of elements in the head follows recommendations by Harry Roberts. learn more here: https://www.youtube.com/watch?v=MHyAOZ45vnU -->
<head>
    <!-- 1 charset/viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 2 title -->
    <title>Post with an image</title>

    <base href="/blog/post-with-an-image/">

    <!-- 3 synchronous js  -->
    
<script><!-- inlined for all pages -->
(()=>{var p=Object.defineProperty;var u=(c,t,e)=>t in c?p(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var s=(c,t,e)=>u(c,typeof t!="symbol"?t+"":t,e);var r=class r extends HTMLElement{constructor(){super(),this.ready=new Promise(t=>{this.readyResolve=t})}static getParents(t,e=!1){let a=[];for(;t;){if(t.matches&&t.matches(r.tagName)){if(e&&t===e)break;d.hasConditions(t)&&a.push(t)}t=t.parentNode}return a}static async ready(t,e){if(e||(e=r.getParents(t)),e.length===0)return;let a=await Promise.all(e.map(i=>i.wait()));if(a.length)return a[0]}forceFallback(){window.Island&&Object.assign(r.fallback,window.Island.fallback);for(let t in r.fallback){let e=Array.from(this.querySelectorAll(t)).reverse();for(let a of e){if(!a.isConnected)continue;let i=r.getParents(a);if(i.length===1){let o=r.ready(a,i);r.fallback[t](o,a,r.prefix)}}}}wait(){return this.ready}async connectedCallback(){d.hasConditions(this)&&this.forceFallback(),await this.hydrate()}getTemplates(){return this.querySelectorAll(`template[${r.attr.template}]`)}replaceTemplates(t){for(let e of t){if(r.getParents(e,this).length>0)continue;let a=e.getAttribute(r.attr.template);if(a==="replace"){let i=Array.from(this.childNodes);for(let o of i)this.removeChild(o);this.appendChild(e.content);break}else{let i=e.innerHTML;if(a==="once"&&i){if(r.onceCache.has(i)){e.remove();return}r.onceCache.set(i,!0)}e.replaceWith(e.content)}}}async hydrate(){let t=[];this.parentNode&&t.push(r.ready(this.parentNode));let e=d.getConditions(this);for(let a in e)d.map[a]&&t.push(d.map[a](e[a],this));await Promise.all(t),this.replaceTemplates(this.getTemplates());for(let a of r.onReady.values())await a.call(this,r);this.readyResolve(),this.setAttribute(r.attr.ready,""),this.querySelectorAll(`[${r.attr.defer}]`).forEach(a=>a.removeAttribute(r.attr.defer))}};s(r,"tagName","is-land"),s(r,"prefix","is-land--"),s(r,"attr",{template:"data-island",ready:"ready",defer:"defer-hydration"}),s(r,"onceCache",new Map),s(r,"onReady",new Map),s(r,"fallback",{":not(is-land,:defined,[defer-hydration])":(t,e,a)=>{let i=document.createElement(a+e.localName);for(let n of e.getAttributeNames())i.setAttribute(n,e.getAttribute(n));let o=e.shadowRoot;if(!o){let n=e.querySelector(":scope > template:is([shadowrootmode], [shadowroot])");if(n){let m=n.getAttribute("shadowrootmode")||n.getAttribute("shadowroot")||"closed";o=e.attachShadow({mode:m}),o.appendChild(n.content.cloneNode(!0))}}return o&&i.attachShadow({mode:o.mode}).append(...o.childNodes),i.append(...e.childNodes),e.replaceWith(i),t.then(()=>{i.shadowRoot&&e.shadowRoot.append(...i.shadowRoot.childNodes),e.append(...i.childNodes),i.replaceWith(e)})}});var f=r,l=class l{static hasConditions(t){return Object.keys(l.getConditions(t)).length>0}static getConditions(t){let e={};for(let a of Object.keys(l.map))t.hasAttribute(`on:${a}`)&&(e[a]=t.getAttribute(`on:${a}`));return e}static visible(t,e){if("IntersectionObserver"in window)return new Promise(a=>{let i=new IntersectionObserver(o=>{let[n]=o;n.isIntersecting&&(i.unobserve(n.target),a())});i.observe(e)})}static idle(){let t=new Promise(e=>{document.readyState!=="complete"?window.addEventListener("load",()=>e(),{once:!0}):e()});return"requestIdleCallback"in window?Promise.all([new Promise(e=>{requestIdleCallback(()=>{e()})}),t]):t}static interaction(t,e){let a=["click","touchstart"];return t&&(a=(t||"").split(",").map(i=>i.trim())),new Promise(i=>{function o(n){i();for(let m of a)e.removeEventListener(m,o)}for(let n of a)e.addEventListener(n,o,{once:!0})})}static media(t){let e={matches:!0};if(t&&"matchMedia"in window&&(e=window.matchMedia(t)),!e.matches)return new Promise(a=>{e.addListener(i=>{i.matches&&a()})})}static saveData(t){if(!(!("connection"in navigator)||navigator.connection.saveData===(t!=="false")))return new Promise(()=>{})}};s(l,"map",{visible:l.visible,idle:l.idle,interaction:l.interaction,media:l.media,"save-data":l.saveData});var d=l;"customElements"in window&&(window.customElements.define(f.tagName,f),window.Island=f);var y=f.ready;var h=class{};s(h,"attr",{autoInitType:"autoinit",import:"import"}),s(h,"types",{"petite-vue":function(t){t.createApp().mount(this)},vue:function(t){t.createApp().mount(this)},svelte:function(t){new t.default({target:this})},"svelte-ssr":function(t){new t.default({target:this,hydrate:!0})},preact:function(t){t.default(this)}});Island.onReady.set("import-autoinit",async function(c){let t,e=this.getAttribute(h.attr.import);if(e&&(t=await import(e)),t){let a=h.types[this.getAttribute(h.attr.autoInitType)||e];a&&await a.call(this,t)}});})();

(()=>{var a="theme-preference",l={dark:"#f8f8f8",light:"#2e2e2e"},t={value:d()};window.onload=()=>{let e=document.querySelector("#light-theme-toggle"),r=document.querySelector("#dark-theme-toggle");document.querySelector("[data-theme-switcher]")&&(c(),o(),e.addEventListener("click",()=>n("light")),r.addEventListener("click",()=>n("dark")),e.setAttribute("aria-pressed",t.value==="light"),r.setAttribute("aria-pressed",t.value==="dark"))};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{t.value=e?"dark":"light",i(),o()});function n(e){t.value=e,document.querySelector("#light-theme-toggle").setAttribute("aria-pressed",e==="light"),document.querySelector("#dark-theme-toggle").setAttribute("aria-pressed",e==="dark"),i(),o()}function d(){return localStorage.getItem(a)?localStorage.getItem(a):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function i(){localStorage.setItem(a,t.value),c(),o()}function c(){document.firstElementChild.setAttribute("data-theme",t.value)}function o(){let e=document.querySelector('meta[name="theme-color"]'),r=t.value==="dark"?l.dark:l.light;e.setAttribute("content",r)}c();})();</script>


    <!-- 4 schema settings -->
    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "http://localhost:8080#website",
        "url": "http://localhost:8080",
        "name": "Eleventy Excellent",
        "description": "Eleventy starter for building modern, resilient websites",
        "inLanguage": "en_EN"
      }
    ]
  }
</script>


<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage"
    },
    "isPartOf": {
      "@id": "http://localhost:8080#website"
    },
    "@id": "",
    "headline": "Post with an image",
    "description": "You can use Markdown, a Nunjucks shortcode or pure HTML to add images to your posts and pages.",
    "image": "http://localhost:8080/assets/images/template/opengraph-default.jpg",
    "inLanguage": "en_EN",
    "publisher": {
      "@type": "Person",
      "name": "Lene Saile",
      "url": "http://localhost:8080"
    },
    "author": {
      "@type": "Person",
      "name": "Lene Saile"
    },
    "datePublished": "2025-01-09T00:00:00.000Z"
  }
</script>



    <!-- 5 CSS  -->
    <!-- <link rel="stylesheet" href="/assets/css/global.css?77f3-1a92-ec5e" /> -->
    
		<!-- External CSS for local dev (refresh without page reload) -->
		<link rel="stylesheet" href="/bundle/ZWIdDti369.css">
		<link rel="stylesheet" href="/bundle/KqhoGGuXrj.css">

	


    <!-- 6 preloads  -->
    <link rel="preload" href="/assets/fonts/redhat/red-hat-display-v7-latin-900.woff2" as="font" type="font/woff2" crossorigin>

<link rel="preload" href="/assets/fonts/atkinson/atkinson-hyperlegible-regular.woff2" as="font" type="font/woff2" crossorigin>

<!-- preloads in page data -->


    <!-- 7 defer  -->
    


    <!-- 8 meta tags, icons, open graph etc.  -->
    

<meta name="description" content="You can use Markdown, a Nunjucks shortcode or pure HTML to add images to your posts and pages.">
<meta name="theme-color" content="#2e2e2e" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#f8f8f8" media="(prefers-color-scheme: light)">
<!-- Search Engines -->
<meta name="robots" content="index,follow">
<meta name="googlebot" content="index,follow">
<!-- Made with Eleventy! -->
<meta name="generator" content="Eleventy v3.1.2">
<!-- Disable automatic detection and formatting of possible phone numbers -->
<meta name="format-detection" content="telephone=no">
<!-- supports both dark and light color schemes, page author prefers light as default. -->
<meta name="color-scheme" content="light dark">
<!-- activates page transitions -->
<meta name="view-transition" content="same-origin">
<!-- Helps prevent duplicate content issues -->
<link rel="canonical" href="http://localhost:8080/blog/post-with-an-image/">
<!-- Links to information about the author(s) of the document -->
<link rel="author" href="humans.txt">


  <!-- Mastodon verified site -->
  <link rel="me" href="https://front-end.social/@lene">



  <!-- fediverse creator tag -->
  <meta name="fediverse:creator" content="@lene@front-end.social">


<!-- Open Graph meta  -->
<meta property="og:url" content="http://localhost:8080/blog/post-with-an-image/">
<meta property="og:type" content="website">
<meta property="og:title" content="Post with an image">
<meta property="og:image" content="http://localhost:8080/assets/og-images/post-with-an-image-preview.jpeg">
<meta property="og:image:alt" content="Post with an image">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:description" content="You can use Markdown, a Nunjucks shortcode or pure HTML to add images to your posts and pages.">
<meta property="og:site_name" content="Eleventy Excellent">
<meta property="og:locale" content="en_EN">
<meta property="article:author" content="Lene Saile">

<!-- Twitter specific head data was removed in v2 -->

<!-- RSS Autodiscovery. Loops over meta.blog.feedLinks -->

  <link rel="alternate" type="application/atom+xml" title="Atom Feed: Eleventy Excellent" href="/feed.xml">

  <link rel="alternate" type="application/json" title="JSON Feed: Eleventy Excellent" href="/feed.json">


<!-- Favicon: https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs -->
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

  </head>

  <body class="post">
    
    <header class="wrapper">
  <a href="#main" class="skip-link">Skip to content</a>

  <div class="repel ontop gutter-s">
    <a href="/" class="logo | cluster">
      <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="#dd4462" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433z" clip-rule="evenodd"></path></svg>

      <span class="font-display">Eleventy Excellent</span>
    </a>
    <!-- toggle drawer and sub menu in _data/meta.js -->



<nav id="mainnav" aria-label="Main" class="mainnav">
  <ul role="list" no-flash class="cluster">
    
      
        <li>
          <a href="/about/">About</a>
        </li>
      
    
      
        <li>
          <a href="/get-started/">Docs</a>
        </li>
      
    
      
        <li>
          <a href="/built-with/">Built with</a>
        </li>
      
    
      
        <li>
          <a href="/blog/" aria-current="page" data-state="active">Blog</a>
        </li>
      
    
  </ul>
</nav>





  </div>
</header>


    <main id="main" class="flow">
<div style="--region-space-top: var(--space-xl-2xl)" class="region">
  <div class="wrapper flow prose">
    <h1 class="gradient-text">Post with an image</h1>

    
      <!-- image -->
      <figure slot="image" class="feature"><picture>   <source type="image/avif" srcset="/assets/images/asturias-1-650w.avif 650w, /assets/images/asturias-1-960w.avif 960w, /assets/images/asturias-1-1400w.avif 1400w" sizes="auto">
  <source type="image/webp" srcset="/assets/images/asturias-1-650w.webp 650w, /assets/images/asturias-1-960w.webp 960w, /assets/images/asturias-1-1400w.webp 1400w" sizes="auto">
  <source type="image/jpeg" srcset="/assets/images/asturias-1-650w.jpeg 650w, /assets/images/asturias-1-960w.jpeg 960w, /assets/images/asturias-1-1400w.jpeg 1400w" sizes="auto"><img src="/assets/images/asturias-1-1400w.jpeg" width="1400" height="1050" alt="A picturesque valley showcasing majestic mountains and lush forests, creating a serene and captivating landscape" loading="eager" decoding="sync" eleventy:ignore></picture><figcaption>A photo I took.</figcaption></figure>
    

    <p class="meta | cluster gutter-xs-s">
      <!-- draft status -->
      <!-- date -->
       <time datetime="2025-01-09T00:00:00.000Z"> January 9, 2025 </time>

      
        <!-- tags -->
        
          <a href="/tags/image/" data-small-button class="button"> image </a>
        
          <a href="/tags/feature/" data-small-button class="button"> feature </a>
        
      
    </p>

    <p>Using the powerful Eleventy Image plugin, we have three ways to optimize images: HTML Transform, Markdown syntax, and a Nunjucks shortcode.</p>
<h2 id="html-transform"><a href="#html-transform" class="heading-anchor">HTML Transform</a></h2>
<p>Transforms any <code>&lt;img&gt;</code> or <code>&lt;picture&gt;</code> tags in HTML files as a post-processing step. Find the default settings directly in <code>eleventy.config.js</code>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./co-located-image.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alt text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/images/absolute-path-image.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alt text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p>We can pass in overrides for every instance and use attributes. By default all images are set to be lazy loaded, but we can override this by directly setting <code>loading="eager"</code> and <code>decoding="sync" </code>on the <code>&lt;img&gt;</code> element.</p>
<p>Another thing to note is the  <code>widths: ['auto']</code> setting, which by default only includes the original size image. You can set the dedicated <code>widths</code> to be used by adding <code>eleventy:widths="800,1200"</code> on the element. For images with <a href="/blog/post-with-an-image/#markdown-syntax">Markdown syntax</a>, I set fixed <code>widths</code> so we don’t need to set a value on every instance.</p>
<p><code>sizes</code> defaults to <code>auto</code>, which is applied to all lazy loading images. For eager-loading images, the value is equivalent to <code>100vw</code> See: <a href="https://github.com/whatwg/html/pull/8008" rel="noopener">https://github.com/whatwg/html/pull/8008</a>. We can <em>still</em> overwrite this, by setting the <code>sizes</code> attribute directly on the <code>&lt;img&gt;</code> element, with something specific like <code>sizes="(max-width: 615px) 50vw, 100vw"</code>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./co-located-image.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alt text<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">eleventy:</span>widths</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200,600<span class="token punctuation">"</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eager<span class="token punctuation">"</span></span> <span class="token attr-name">decoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sync<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fposts%2F2025%2F2025-01-09-post-with-image%2Fasturias-1.jpg&amp;width=200&amp;format=webp&amp;via=transform 200w, /.11ty/image/?src=src%2Fposts%2F2025%2F2025-01-09-post-with-image%2Fasturias-1.jpg&amp;width=600&amp;format=webp&amp;via=transform 600w" sizes="(max-width: 615px) 50vw, 100vw"><img loading="eager" decoding="sync" src="/.11ty/image/?src=src%2Fposts%2F2025%2F2025-01-09-post-with-image%2Fasturias-1.jpg&amp;width=200&amp;format=jpeg&amp;via=transform" alt="A picturesque valley showcasing majestic mountains and lush forests, creating a serene and captivating landscape" width="600" height="450" srcset="/.11ty/image/?src=src%2Fposts%2F2025%2F2025-01-09-post-with-image%2Fasturias-1.jpg&amp;width=200&amp;format=jpeg&amp;via=transform 200w, /.11ty/image/?src=src%2Fposts%2F2025%2F2025-01-09-post-with-image%2Fasturias-1.jpg&amp;width=600&amp;format=jpeg&amp;via=transform 600w" sizes="(max-width: 615px) 50vw, 100vw"></picture>
<p>This makes this syntax equally powerfull as the <a href="/blog/post-with-an-image/#nunjucks-shortcode">shortcode</a>, and easier to read - with the extra benefit that we can use both relative and absolute image sources.<br>
Only “downside” ist, that it comes with a higher build cost due to the post-processing step.</p>
<p>More info: <a href="https://www.11ty.dev/docs/plugins/image/#html-transform" rel="noopener">https://www.11ty.dev/docs/plugins/image/#html-transform</a></p>
<h2 id="markdown-syntax"><a href="#markdown-syntax" class="heading-anchor">Markdown syntax</a></h2>
<p>This also uses <a href="https://www.11ty.dev/docs/plugins/image/#html-transform" rel="noopener">Image HTML Transform </a>.<br>
The markdown sytnax for images creates the <code>&lt;img&gt;</code> element the plugin is looking for, and then transforms it to the <code>&lt;picture&gt;</code> element (if more than one format is set).</p>
<p>In <code>src/_config/plugins/markdown.js</code> I customized the Markdown rendering for images slightly. What normally would become a <code>title</code> attribute is used to create a caption. Note that I set a fixed <code>widths</code> value instead of <code>auto</code> as the default.</p>
<pre class="language-markdown"><code class="language-markdown">![alt text](/path/to/image 'caption text')
<span class="token url"><span class="token operator">!</span>[<span class="token content">Close-up with unfocused background of a vibrant large blue butterfly gracefully perched on a delicate flower amidst lush green gras</span>](<span class="token url">/assets/images/gallery/asturias-4.jpg</span>)</span> 'I used a portrait lens for this one'</code></pre>
<p></p><figure><picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=650&amp;format=webp&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=960&amp;format=webp&amp;via=transform 960w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=1400&amp;format=webp&amp;via=transform 1400w" sizes="auto"><img loading="lazy" decoding="async" src="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=650&amp;format=jpeg&amp;via=transform" alt="Close-up with unfocused background of a vibrant large blue butterfly gracefully perched on a delicate flower amidst lush green gras" title="I used a portrait lens for this one" width="1400" height="930" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=650&amp;format=jpeg&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=960&amp;format=jpeg&amp;via=transform 960w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-4.jpg&amp;width=1400&amp;format=jpeg&amp;via=transform 1400w" sizes="auto"></picture><figcaption>I used a portrait lens for this one</figcaption></figure><p></p>
<p>You can also add custom attributes here (<a href="https://www.aleksandrhovhannisyan.com/blog/eleventy-image-transform/" rel="noopener">Kudos to Aleksandr</a>), to overwrite the default <code>widths</code>, have the image eagerly loaded, or add a class etc.</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token url"><span class="token operator">!</span>[<span class="token content">alt text</span>](<span class="token url">/path/to/image</span>)</span>{attrs}
<span class="token url"><span class="token operator">!</span>[<span class="token content">Close-up of a delicate white flower with a yellow center, surrounded by green leaves</span>](<span class="token url">/assets/images/gallery/asturias-2.jpg</span>)</span>{loading="eager" decoding="sync" eleventy:widths="400" class="grayscale"}</code></pre>
<p><picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-2.jpg&amp;width=400&amp;format=webp&amp;via=transform 400w" sizes="auto"><img loading="eager" decoding="sync" src="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-2.jpg&amp;width=400&amp;format=jpeg&amp;via=transform" alt="Close-up of a delicate white flower with a yellow center, surrounded by green leaves" width="400" height="265" class="grayscale"></picture></p>
<h2 id="nunjucks-shortcode"><a href="#nunjucks-shortcode" class="heading-anchor">Nunjucks shortcode</a></h2>
<p>The most basic version contains the path to the image (absolute) and alt text (can be an empty string if the image is decorative).</p>
<pre class="language-jinja2"><code class="language-jinja2"><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">image</span> <span class="token string">"path to image"</span><span class="token punctuation">,</span> <span class="token string">"alt text"</span> <span class="token delimiter punctuation">%}</span></span></code></pre>
<p>It defaults to <code>loading = 'lazy'</code>, the picture element gets its set of images from <code>widths=[650,960,1400]</code> and compares to a condition of <code>sizes="auto"</code>.<br>
You can pass in manually all the conditions, add <code>null</code> to skip. The arguments include classes for the outer container ( <code>&lt;picture&gt;</code> or <code>&lt;figure&gt;</code> element), and for the <code>&lt;img&gt;</code> element.</p>
<p>The shortcode is stored in <code>src/_config/shortcodes/image.js</code>.</p>
<pre class="language-jinja2"><code class="language-jinja2"><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">image</span> <span class="token string">"path to image"</span><span class="token punctuation">,</span> <span class="token string">"alt text"</span><span class="token punctuation">,</span> <span class="token string">"caption text"</span><span class="token punctuation">,</span> <span class="token string">"eager"</span><span class="token punctuation">,</span> <span class="token string">"container class names"</span><span class="token punctuation">,</span> <span class="token string">"img class names"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"(min-width:30em) 50vw, 100vw"</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">image</span> <span class="token string">"path to image"</span><span class="token punctuation">,</span> <span class="token string">"alt text"</span><span class="token punctuation">,</span> <span class="token variable">null</span><span class="token punctuation">,</span> <span class="token string">"eager"</span> <span class="token delimiter punctuation">%}</span></span></code></pre>
<figure slot="image" class="text-center"><picture>   <source type="image/avif" srcset="/assets/images/asturias-3-200w.avif 200w, /assets/images/asturias-3-400w.avif 400w" sizes="(min-width:30em) 50vw, 100vw">
  <source type="image/webp" srcset="/assets/images/asturias-3-200w.webp 200w, /assets/images/asturias-3-400w.webp 400w" sizes="(min-width:30em) 50vw, 100vw">
  <source type="image/jpeg" srcset="/assets/images/asturias-3-200w.jpeg 200w, /assets/images/asturias-3-400w.jpeg 400w" sizes="(min-width:30em) 50vw, 100vw"><img src="/assets/images/asturias-3-400w.jpeg" width="400" height="265" alt="A traditional Asturian village with it's raised granaries, surrounded by lush green hills and mountains" loading="lazy" decoding="async" eleventy:ignore class="grayscale"></picture><figcaption>What a nice old house in black and white</figcaption></figure>
<p>Example: predefine <code>widths</code> and <code>sizes</code> using Nunjuck’s <code>set</code> tag or front matter fields, and dynamically get the image path, like I do in the built-with template.</p>
<pre class="language-jinja2"><code class="language-jinja2"><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">image</span> <span class="token string">"/assets/images/screenshots/"</span> <span class="token operator">+</span> <span class="token variable">site</span><span class="token punctuation">.</span><span class="token variable">filename</span> <span class="token operator">+</span> <span class="token string">".jpg"</span><span class="token punctuation">,</span> <span class="token variable">site</span><span class="token punctuation">.</span><span class="token variable">name</span><span class="token punctuation">,</span> <span class="token variable">null</span><span class="token punctuation">,</span> <span class="token string">"lazy"</span><span class="token punctuation">,</span> <span class="token variable">null</span><span class="token punctuation">,</span> <span class="token variable">null</span><span class="token punctuation">,</span> <span class="token variable">widths</span><span class="token punctuation">,</span> <span class="token variable">sizes</span> <span class="token delimiter punctuation">%}</span></span></code></pre>
<h2 id="comparing-shortcode-and-html-transform"><a href="#comparing-shortcode-and-html-transform" class="heading-anchor">Comparing Shortcode and HTML Transform</a></h2>
<p>The shortcode can be much terser than the HTML syntax. It also includes the <code>slot="image"</code> attribute for seamless WebC component integration. However, it’s less readable, and you must carefully order all arguments. On the other hand, the HTML syntax is much more readable and easier to maintain.</p>
<p>As for the higher build cost of post-processing, the shortcode images are being skipped using the <code>eleventy:ignore</code> attribute, but still seem to be processed somehow. I have yet to figure out if this is avoidable. If you set the <code>eleventy:ignore</code> on an HTML image though, it <em>is</em> completely skipped and excluded from the processed images.</p>
<p><strong>These two approaches produce (almost) the same output:</strong></p>
<pre class="language-jinja2"><code class="language-jinja2"><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">image</span> <span class="token variable">image</span><span class="token punctuation">,</span> <span class="token variable">alt</span> <span class="token keyword">or</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token variable">credit</span><span class="token punctuation">,</span> <span class="token string">"eager"</span><span class="token punctuation">,</span> <span class="token string">"feature"</span><span class="token punctuation">,</span> <span class="token string">"grayscale"</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>feature<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{{</span> <span class="token variable">image</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{{</span> <span class="token variable">alt</span> <span class="token keyword">or</span> <span class="token string">''</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eager<span class="token punctuation">"</span></span> <span class="token attr-name">decoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sync<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>grayscale<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">credit</span> <span class="token delimiter punctuation">%}</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figcaption</span><span class="token punctuation">&gt;</span></span><span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{{</span> <span class="token variable">credit</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figcaption</span><span class="token punctuation">&gt;</span></span>
  <span class="token jinja2 language-jinja2"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<figure slot="image" class="feature"><picture>   <source type="image/avif" srcset="/assets/images/asturias-1-650w.avif 650w, /assets/images/asturias-1-960w.avif 960w, /assets/images/asturias-1-1400w.avif 1400w" sizes="auto">
  <source type="image/webp" srcset="/assets/images/asturias-1-650w.webp 650w, /assets/images/asturias-1-960w.webp 960w, /assets/images/asturias-1-1400w.webp 1400w" sizes="auto">
  <source type="image/jpeg" srcset="/assets/images/asturias-1-650w.jpeg 650w, /assets/images/asturias-1-960w.jpeg 960w, /assets/images/asturias-1-1400w.jpeg 1400w" sizes="auto"><img src="/assets/images/asturias-1-1400w.jpeg" width="1400" height="1050" alt="A picturesque valley showcasing majestic mountains and lush forests, creating a serene and captivating landscape" loading="eager" decoding="sync" eleventy:ignore class="grayscale"></picture><figcaption>A photo I took.</figcaption></figure>
<figure class="feature">
  <picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-1.jpg&amp;width=2000&amp;format=webp&amp;via=transform 2000w" sizes="auto"><img loading="eager" decoding="sync" src="/.11ty/image/?src=src%2Fassets%2Fimages%2Fgallery%2Fasturias-1.jpg&amp;width=2000&amp;format=jpeg&amp;via=transform" alt="A picturesque valley showcasing majestic mountains and lush forests, creating a serene and captivating landscape" width="2000" height="1500" class="grayscale"></picture>
  <figcaption>A photo I took.</figcaption>
</figure>
<p>More:</p>
<ul>
<li><a href="https://www.11ty.dev/docs/plugins/image/" rel="noopener">https://www.11ty.dev/docs/plugins/image/</a></li>
<li><a href="https://www.youtube.com/watch?v=e0OHgC677ec" rel="noopener">https://www.youtube.com/watch?v=e0OHgC677ec</a></li>
<li><a href="https://www.aleksandrhovhannisyan.com/blog/eleventy-image-transform/" rel="noopener">https://www.aleksandrhovhannisyan.com/blog/eleventy-image-transform/</a></li>
<li><a href="https://coryd.dev/posts/2024/setting-up-image-transforms-in-eleventy" rel="noopener">https://coryd.dev/posts/2024/setting-up-image-transforms-in-eleventy</a></li>
</ul>

    
  <hr>
  <p class="text-step-min-1">
    
    <a href="git+https://github.com/madrilene/eleventy-excellent/tree/main/./src/posts/2025/2025-01-09-post-with-image/post-with-image.md">View this page on GitHub</a>.
  </p>


  </div>

  <!--  h-card infos: https://indieweb.org/authorship -->
  <div hidden class="h-entry">
    <a href="http://localhost:8080/blog/post-with-an-image/" class="u-url">Post with an image</a>
    <a rel="author" href="http://localhost:8080" class="p-name u-url">Lene Saile</a>
    <img src="http://localhost:8080/icon-512x512.png" alt="Lene Saile" class="u-author h-card">
  </div>
</div></main>

    <footer class="site-footer mt-l-xl p-s-m">
  <div class="wrapper">
    <div class="cluster gutter-xs">
      <nav aria-label="Complementary" class="cluster text-step-0">
        © 2025
        <a href="/"><span class="font-display">Eleventy Excellent</span> <small>4.3.3</small>
        </a>

        
          <a href="/styleguide/">Style guide</a>
        
          <a href="/imprint/">Imprint</a>
        
          <a href="/privacy/">Privacy</a>
        
      </nav>

      <nav aria-label="Platforms" class="cluster">
        <!-- gets the first item from the feed loop set in meta -->
        <a href="/feed.xml" rel="alternate" type="application/atom+xml">
          <span class="visually-hidden">Atom Feed</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><title>RSS</title><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        </a>

        
          
            <!-- regular platforms -->
            <a href="https://github.com/madrilene/eleventy-excellent" rel="me" class="no-indicator">
              <span class="visually-hidden">Github</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://front-end.social/@lene" rel="me" class="no-indicator">
              <span class="visually-hidden">Mastodon</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M21.887 5.996c-.308-2.314-2.298-4.14-4.655-4.492-.399-.059-1.906-.278-5.398-.278h-.026c-3.495 0-4.243.219-4.642.278-2.295.345-4.387 1.982-4.897 4.326-.242 1.153-.268 2.433-.222 3.606.065 1.684.078 3.361.228 5.039a24 24 0 0 0 .543 3.304c.484 2.009 2.439 3.68 4.355 4.359 2.049.71 4.256.829 6.368.342q.347-.085.69-.193c.513-.165 1.114-.351 1.559-.676q.009-.006.013-.016.006-.01.007-.024v-1.624s0-.013-.007-.02q-.002-.01-.013-.016l-.02-.01h-.019a17.4 17.4 0 0 1-4.132.49c-2.397 0-3.041-1.153-3.224-1.63a5.3 5.3 0 0 1-.281-1.287q0-.01.003-.019.002-.012.013-.017l.02-.01h.023c1.33.325 2.697.491 4.067.491.33 0 .657 0 .987-.01 1.376-.04 2.828-.11 4.184-.378.033-.007.069-.013.098-.02 2.138-.418 4.172-1.724 4.378-5.032.006-.129.026-1.365.026-1.498 0-.461.147-3.258-.023-4.979z"></path><path fill="currentColor" stroke-width="1" d="M6.061 7.288c0-.676.533-1.219 1.193-1.219.661 0 1.193.547 1.193 1.219 0 .673-.532 1.22-1.193 1.22-.66 0-1.193-.547-1.193-1.22Z"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://bsky.app/profile/lenesaile.com" rel="me" class="no-indicator">
              <span class="visually-hidden">Bluesky</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="var(--color-bg)" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364q.204-.03.415-.056-.207.033-.415.056c-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a9 9 0 0 1-.415-.056q.21.026.415.056c2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://ko-fi.com/lenesaile" rel="me" class="no-indicator">
              <span class="visually-hidden">Kofi</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M18 3h1c1.06 0 2.078.527 2.828 1.464C22.578 5.402 23 6.674 23 8s-.421 2.598-1.172 3.536C21.078 12.473 20.061 13 19 13h-1M1 3h17v12.461c0 1.47-.512 2.878-1.423 3.917-.91 1.038-2.146 1.622-3.434 1.622H5.857c-1.288 0-2.523-.584-3.434-1.622S1 16.93 1 15.46z"></path><path fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M13.288 8.707a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-3.44 0c-.95.939-1 2.527.2 3.736L9.497 16l3.6-3.547c1.2-1.208 1.14-2.797.19-3.736v-.01Z"></path></svg>
            </a>
          
        
      </nav>
    </div>

    <is-land on:idle><div role="region" aria-labelledby="theme-switcher-label" data-theme-switcher style="--cluster-horizontal-alignment: center; --gutter: 0.5rem" class="theme-switch | cluster mt-xs">
    <h2 id="theme-switcher-label">Theme</h2>
    <button id="light-theme-toggle" data-theme="light" data-ghost-button data-small-button class="button">
      <span>light</span>
    </button>
    <button id="dark-theme-toggle" data-theme="dark" data-ghost-button data-small-button class="button">
      <span>dark</span>
    </button>
  </div>
</is-land>


    <aside class="creator | cluster gutter-2xs text-step-min-1 mt-xl">
      Made with <span class="visually-hidden">love</span> <span><svg width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.99.99 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95 22 5.216 19.761 3 17 3s-5 3-5 3-2.239-3-5-3"></path></svg></span> and
      <a href="https://www.11ty.dev/" class="no-indicator"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 29 29" aria-label="Eleventy"><path fill="currentColor" d="M9.156 22.425q-.324 0-.324-.878V7.08q0-.419-.168-.394l-1.035.263q-.284.026-.284-.576V5.116q0-.523.31-.588l3.415-.89a.5.5 0 0 1 .116-.012q.284 0 .283.615V21.55q0 .878-.336.877zm8.846.027q-.518 0-.899-.073a2.4 2.4 0 0 1-.795-.328 2 2 0 0 1-.68-.7q-.265-.446-.432-1.245t-.168-1.899v-6.714q0-.263-.142-.263h-.802q-.324 0-.324-.627v-.708q0-.64.324-.641h.803q.14 0 .141-.353l.233-5.093q.039-.693.336-.693h1.295q.324 0 .324.693v5.093q-.001.354.156.353h1.65q.324 0 .324.641v.708q0 .627-.324.627h-1.655q-.09 0-.122.046-.032.045-.031.217v6.756q0 .759.096 1.264.097.504.283.739.188.235.375.313.188.08.459.078h.917q.349.001.348.484v.785q0 .537-.374.537zm4.964 1.57q.296 0 .516-.49.22-.493.221-1.396 0-.211-.26-1.454l-2.536-10.67a2 2 0 0 1-.026-.29q0-.47.195-.47h1.566q.18 0 .297.123.12.124.18.503l1.681 9.008q.051.157.065.158.052-.002.053-.144l1.319-8.983q.052-.392.16-.53a.34.34 0 0 1 .28-.138h1.085q.22 0 .22.51 0 .118-.026.302l-2.303 12.138q-.271 1.506-.595 2.305-.324.798-.726 1.086a1.85 1.85 0 0 1-1.061.302h-.13q-1.048 0-1.422-.564-.104-.118-.103-.603 0-.97.31-.97.026 0 .466.131.445.138.574.136M2.648 22.45q-.324.001-.324-.877V7.105q0-.42-.169-.394l-1.035.262Q.836 7 .837 6.397V5.14q0-.521.31-.588l3.417-.892a.5.5 0 0 1 .116-.012q.284 0 .283.615v17.309q0 .878-.336.877z"></path></svg></a> by
      <a href="https://www.lenesaile.com">Lene Saile</a>
    </aside>
  </div>
</footer>
<script type="module" src="/assets/scripts/components/custom-easteregg.js"></script>
      <custom-easteregg></custom-easteregg>

</body>
</html>